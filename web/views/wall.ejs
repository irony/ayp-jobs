  <header ng-show="loading && loadingReverse" class="loader pull-left">
      <span></span>
      <span></span>
      <span></span>
  </header>


  <div id="photos" class="photos" >
    <div ng-controller="WallController">

        <div id="wall" style="height:{{totalHeight}}px; position:" class="{{ ('filter' + zoomLevel) + ' ' + (focus && 'focus') + ' ' + (scrolling && 'scrolling')}}">
            <div id="shim" ng-click="select(null)"></div>
            <!--<input id="date" ng-model="q" ng-show="q" date-format></input>-->

              <div ng-show="!photosInView.length" class="container row stats" ng-cloak>
                <i class="span3 icon icon-camera supersize"></i>
                <h1>{{!stats.all && 'All Your Photos' || 'Import summary'}}</h1>
                <h2 class="span6" ng-show="!stats.all">Now add some photos by dragging a folder here or import from the menu. </h2>
                <div ng-show="stats.all">
                  <h3>{{stats.all}} photos are imported</h3>
                  <h3>{{library.photos.length}} of {{stats.thumbnails}} metadata are synced to this computer</h3>
                 <h3>{{stats.all - stats.originals}} photos are waiting for download</h3>
                </div>
              </div>

              <div id="group{{group.id}}" ng-controller="GroupCtrl" ng-init="group = g" ng-show="group.photos.length"  class="group {{group.active && 'active' || 'inactive'}}" ng-repeat="g in groups" style="position: absolute; top:{{g.top}}px; height: {{g.height}}px;">
                <header>
                  <a href="{{'#group'+g.id}}" style="left: {{g.left}}px;" ng-click="click()">&nbsp;</a>
                  <h2>{{g.name}}</h2>
                  <fieldset>
                    <h3>Edit group</h3>
                    <input ng-model="g.name"  placeholder="Name">
                    <input ng-model="g.from" date-format placeholder="From">
                    <input ng-model="g.to" date-format placeholder="To">
                    #<input ng-model="g.tags" placeholder="Tags">
                    <input type="submit" ng-click="group.active = false">
                  </fieldset>
                </header>
                <canvas>
                </canvas>
              </div>

          <div class="slider" ng-show="!selectedPhoto && photosInView.length">
              <label class="pull-right  muted">All your photos</label>
              <label class="pull-left  muted">Only the best</label>
              <label class="pull-center muted">{{nrPhotos}} photos </label>

              <input type="range" ng-model="zoomLevel" id="zoomLevel" max="10" step="1">

          </div>
          <aside>
            <address>
              <label>
                <i class="icon-hand-up"></i> {{selectedPhoto.meta.mine.clicks}}
              </label>
              <label title="Key-up" ng-click="selectedPhoto.zoom = selectedPhoto.zoom + 1">
                <i class="icon-zoom-in"></i>
                <div class="hover">Use key up</div>
              </label>
              <label  title="Key-down" ng-click="selectedPhoto.zoom = selectedPhoto.zoom - 1">
                <i class="icon-zoom-out"></i>
                <div class="hover">Use key down</div>
              </label>
              <label>
                <i class="icon-tags"></i> {{selectedPhoto.meta.mine.tags}}
                {{moment(selectedPhoto.taken).calendar()}}
              </label>
              <label>
                <i ng-class="{'icon-star':selectedPhoto.vote<3, 'icon-star-half-full': selectedPhoto.vote>=3, 'icon-star-empty': selectedPhoto.vote > 8}"></i>
                <div class="hover">
                  <i ng-class="icon-star" ng-click="vote(selectedPhoto, 0)"></i> Max
                  <i ng-class="icon-star-empty" ng-click="vote(selectedPhoto, 10)"></i> Min
               </div>
              </label>
              <label>
                <i class="icon-map-marker"></i>
                <div class="hover">
                  Map here {{selectedPhoto.meta.metadata.position.lat}}, {{selectedPhoto.meta.metadata.position.lng}}
                </div>
              </label>
            </address>
          </aside>
          <label fullscreen class="fullscreen"><i ng-class="{'icon-spinner icon-spin':loading, 'icon-resize-full':!fullscreen, 'icon-resize-small':!loading && fullscreen}"></i></label>
<!--
          <div id="meta" ng-controller="MetadataCtrl" right-click="rightCxlick()" ng-style="{left: photoInCenter.left, top: photoInCenter.top, width: photoInCenter.width, height:photoInCenter.height}" ng-cloak="true" ng-show="{{photoInCenter}}">
            <a class="span6" ng-click="star(photoInCenter)"><i class="icon-heart"></i></a>
            <a class="span6" ng-click="hide(photoInCenter)"><i class="icon-thumbs-down"></i></a>
            <a class="span6" href="/share?date={{photoInCenter.taken}}"><i class="icon-share"></i></a>
          </div>
-->
        </div>
      </div>
    </div>
  </div>